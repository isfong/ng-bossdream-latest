<!--suppress HtmlUnknownAttribute, HtmlUnknownTag -->
<nz-spin [nzSpinning]="loading" [nzSize]="'large'" [nzTip]="'loading...'">
  <!-- custom page header start -->
  <div class="content__title ad-ph">
    <nz-breadcrumb class="ant-breadcrumb ng-star-inserted">
      <nz-breadcrumb-item class="ng-star-inserted">
        <span class="ant-breadcrumb-link">
          <span class="ng-star-inserted">{{ 'uri.console.admin-navigation'| translate }}</span>
        </span>
      </nz-breadcrumb-item>
      <nz-breadcrumb-item class="ng-star-inserted">
        <span class="ant-breadcrumb-link">
          <a routerLink="/console/home" class="ng-star-inserted">{{ 'uri.console.home'| translate }}</a>
        </span>
      </nz-breadcrumb-item>
      <nz-breadcrumb-item class="ng-star-inserted">
        <span class="ant-breadcrumb-link">
          <span class="ng-star-inserted">{{ 'uri.console.admin.authorize'| translate }}</span>
        </span>
      </nz-breadcrumb-item>
      <nz-breadcrumb-item class="ng-star-inserted">
        <span class="ant-breadcrumb-link">
          <span class="ng-star-inserted">{{ 'uri.console.admin.authorize.user.administrator'| translate }}</span>
        </span>
      </nz-breadcrumb-item>
      <nz-breadcrumb-item class="ng-star-inserted">
        <span class="ant-breadcrumb-link">
          <span class="ng-star-inserted"></span>
        </span>
      </nz-breadcrumb-item>
    </nz-breadcrumb>
    <div class="detail">
      <div class="main">
        <div class="row">
          <h1 class="title ng-star-inserted">{{ 'uri.console.admin.authorize.user.administrator'| translate }}</h1>
        </div>
        <div class="row">
          <div class="desc">
            {{ 'uri.console.admin.authorize.user.administrator'| translate }} 说明文字......
            <div class="text-center">
              <nz-input-group nzSearch [nzSuffix]="suffixButton" style="width: 520px;">
                <input type="text" [(ngModel)]="keywords" nz-input placeholder="请输入角色名称/角色代码">
                <ng-template #suffixButton>
                  <button nz-button nzType="primary" nzSearch (click)="search()"><i nz-icon type="search" theme="outline"></i>搜索
                  </button>
                </ng-template>
              </nz-input-group>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- custom page header end -->

  <nz-card [nzBordered]="false">
    <div class="d-flex align-items-center mb-lg">
      <h3 class="flex-1 text-lg">管理员列表</h3>
    </div>
    <button nz-button (click)="add()" [nzType]="'dashed'" nzBlock class="mb-sm">
      <i nz-icon type="plus"></i>
      <span>添加</span>
    </button>
    <nz-list [nzDataSource]="administrators" [nzLoading]="loading" [nzRenderItem]="item" [nzPagination]="pagination">
      <ng-template #item let-item>
        <nz-list-item [nzContent]="nzContent" [nzActions]="[roles, more]">
          <ng-template #roles>
            <a (click)="role(item)">
              <i nz-icon style="font-size: 32px;">
                <svg>
                  <path
                    d="M257.39776 760.73984s-0.91648-9.38496 4.80256-28.86144c10.5984-32.68608 33.98656-55.94112 33.98656-55.94112s12.29824-12.58496 17.22368-15.93344c30.592-24.6528 55.67488-23.35744 55.67488-23.35744L304.17408 530.688h85.08928l43.66848-38.65088c-26.20928-53.8112-23.26016-123.52-22.80448-122.6752-83.56864-13.37856-95.32928-37.76512-95.32928-37.76512s-12.8768 30.46912-39.45984 30.8736c-41.89696 0.0768-48.2048-64.91136-48.2048-64.91136h-12.40576v-21.00224H305.408v10.50112h60.61568v-10.50112h41.22112s14.57152-39.23968 35.16928-73.55392c2.70848-7.17824 36.7872-59.97568 63.26784-62.6432-10.51136-32.88064-50.03264-129.64864-95.63648-129.64864-22.90688 0-41.04704 11.9296-52.98176 30.06464 0 9.07264-9.06752 18.13504-21.00224 18.13504-10.50112 0-19.56864-7.63904-20.99712-16.70144C304.55808 24.08448 284.98944 10.24 262.07744 10.24 211.968 10.24 165.19168 123.83232 154.69056 152.4736c-55.83872 10.50112-92.11904 25.76896-92.11904 43.90912 0 18.13504 49.4848 37.35552 96.89088 43.90912v13.3632c0 57.27232 16.70144 108.82048 45.34272 147.95776h-151.296l64.91136 105.9584c-17.79712 0-37.67808 9.04192-55.67488 23.35744a160.45568 160.45568 0 0 0-17.22368 15.93344c-15.1552 16.18432-27.5456 35.84512-33.98656 55.94112-3.08224 9.63072-4.80256 19.36384-4.80256 28.86144l0.78848 95.49824 0.64512 78.2336c0 28.64128 22.43072 51.54816 51.54816 51.54816h198.47168l-0.78848-96.2048z"
                    fill="#d3217b" p-id="1122"></path>
                  <path
                    d="M1016.97024 789.47328c0-51.54304-60.61568-115.0208-108.81536-122.18368l65.38752-107.86304h-151.296c27.20768-39.13728 45.34272-90.68544 45.34272-147.95776v-13.3632c58.70592-10.50112 96.88576-27.20768 96.88576-43.90912 0-18.13504-42.47552-34.8416-107.38688-45.34272-2.86208-15.27296-46.7712-138.89024-98.31936-138.89024-22.90688 0-41.04704 11.9296-52.98176 30.06464 0 9.07264-9.06752 18.13504-21.00224 18.13504-10.50112 0-19.56864-7.63904-20.99712-16.70144-10.50112-18.13504-30.06976-31.97952-52.98176-31.97952-50.11456 0-96.89088 113.59232-107.38688 142.2336-55.83872 10.50112-92.11904 25.76896-92.11904 43.90912 0 18.13504 37.70368 33.408 96.89088 43.90912v13.3632c0 57.27232 16.70144 108.82048 45.34272 147.95776H402.2272l64.91136 105.9584c-48.20992 0-111.68768 66.34496-111.68768 124.09344l1.4336 173.73184c0 28.64128 22.43072 51.54816 51.54816 51.54816h558.8992A51.328 51.328 0 0 0 1018.88 964.63872l-1.90976-175.16544zM647.07584 973.70624h-24.34048l-45.34272-334.10048 94.98112 83.0464-25.29792 251.05408z m104.04864 0h-24.34048l-25.77408-251.05408 95.45728-84.48-45.34272 335.53408zM808.3968 446.30528v10.50112h-11.9296s-7.63904 64.91136-48.2048 64.91136c-41.04704 0-48.68096-64.91136-48.68096-64.91136h-27.20256c-6.20544 52.97664-33.41312 64.91136-48.2048 64.91136-36.27008 0-46.77632-48.2048-48.2048-64.91136h-12.40576v-21.00224h90.68032v10.50112h60.61568v-10.50112h90.68544v10.50112h2.85184z m0 0"
                    fill="#d3217b" p-id="1123"></path>
                </svg>
              </i>
              角色
            </a>
          </ng-template>
          <ng-template #more>
            <nz-dropdown>
              <a class="ant-dropdown-link" nz-dropdown>
                更多
                <i nz-icon type="down"></i>
              </a>
              <ul nz-menu>
                <li nz-menu-item (click)="edit(item)">编辑</li>
                <li nz-menu-item (click)="msg.success('删除：' + item.username)">删除</li>
              </ul>
            </nz-dropdown>
          </ng-template>
          <nz-list-item-meta [nzTitle]="nzTitle" [nzDescription]="nzDescription" [nzAvatar]="nzAvatar">
            <ng-template #nzAvatar>
              <nz-avatar [nzSrc]="item.avatar === ''? '': pre+item.avatar" nzSize="large"></nz-avatar>
            </ng-template>
            <ng-template #nzTitle>
              <nz-badge nzStatus="success"></nz-badge>
              <nz-badge nzStatus="error"></nz-badge>
              <nz-badge nzStatus="processing"></nz-badge>
              <nz-badge nzStatus="warning"></nz-badge>
              <nz-badge nzStatus="default" [nzStyle]="{'background-color':'#2f54eb'}"></nz-badge>
              {{item.name === '' ? '______': item.name}}
            </ng-template>
            <ng-template #nzDescription>
              <div>
                <p><nz-tag [nzColor]="'magenta'">用户名: {{item.username}}</nz-tag></p>
                <p><nz-tag [nzColor]="'red'">昵称: {{item.nickname === '' ? '______': item.nickname}}</nz-tag></p>
                <p><nz-tag [nzColor]="'volcano'">手机号: {{item.phone === '' ? '______': item.phone}}</nz-tag></p>
                <p><nz-tag [nzColor]="'orange'">邮箱: {{item.email === '' ? '______': item.email}}</nz-tag></p>
                <p><nz-tag [nzColor]="'gold'">性别: {{item.gender === 0? '女': '男'}}</nz-tag></p>
                <p><nz-tag [nzColor]="'green'">品牌: {{item.brandName === '' ? '______': item.brandName}}</nz-tag></p>
                <p><nz-tag [nzColor]="'cyan'">商圈: {{item.bizZoneName === '' ? '______': item.bizZoneName}}</nz-tag></p>
                <p><nz-tag [nzColor]="'blue'">供应商: {{item.supplierName === '' ? '______': item.supplierName}}</nz-tag></p>
                <p><nz-tag [nzColor]="'purple'">区域: {{item.province === '' ? '______': item.province}} {{item.city === '' ? '______': item.city}} {{item.area === '' ? '______': item.area}}</nz-tag></p>
                <p><nz-tag [nzColor]="'geekblue'">仓库: {{item.warehouseName === '' ? '______': item.warehouseName}}</nz-tag></p>
              </div>
            </ng-template>
          </nz-list-item-meta>
          <ng-template #nzContent>
            <div>
              账号状态:
              <nz-tag *ngIf="item.available === 0" [nzColor]="'#f50'">禁用</nz-tag>
              <nz-tag *ngIf="item.available === 1" [nzColor]="'#87d068'">正常</nz-tag>
            </div>
          </ng-template>
        </nz-list-item>
      </ng-template>
      <ng-template #pagination>
        <nz-pagination [nzTotal]="total" [nzPageSize]="size" [nzPageIndex]="num"
                       (nzPageIndexChange)="pageIndexChange($event)"></nz-pagination>
      </ng-template>
    </nz-list>
  </nz-card>
</nz-spin>
